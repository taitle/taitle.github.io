<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> Combining Multiple Design Patterns in Java | /proc/self</title>
  
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="Combining Multiple Design Patterns in Java" />
<meta property="og:description" content="For a school project, I had to design an application combining multiple Design Patterns and implement it in Java. Below is the given project description :
So, first of all we have to infer which design patterns we are supposed to use from the given text.
 First sentence indicates we should use Observer Pattern &ldquo;Family of sensors&rdquo; manufactured by different factories, so Abstract Factory Pattern it is Adaptability for SMS, so Adapter Pattern will be used Different commands will be executed, so Command Pattern should be used Single object creation, so Singleton Pattern will be used  So, we are gonna have to combine 5 patterns to implement the application." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ruysal.com/post/2019-01-23-Combining-Multiple-Design-Patterns-in-Java/" />
<meta property="article:published_time" content="2019-01-23T19:15:02+00:00" />
<meta property="article:modified_time" content="2019-01-23T19:15:02+00:00" />

  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Combining Multiple Design Patterns in Java"/>
<meta name="twitter:description" content="For a school project, I had to design an application combining multiple Design Patterns and implement it in Java. Below is the given project description :
So, first of all we have to infer which design patterns we are supposed to use from the given text.
 First sentence indicates we should use Observer Pattern &ldquo;Family of sensors&rdquo; manufactured by different factories, so Abstract Factory Pattern it is Adaptability for SMS, so Adapter Pattern will be used Different commands will be executed, so Command Pattern should be used Single object creation, so Singleton Pattern will be used  So, we are gonna have to combine 5 patterns to implement the application."/>

  
  
    
  
  
  <link rel="stylesheet" href="https://ruysal.com/css/style-light.css">
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="https://ruysal.com/images/favicon.ico" />

  
  
  
  
</head>

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

    <header id="header">
  <a href="https://ruysal.com">
  
    <div id="logo" style="background-image: url(https://ruysal.com/images/logo.png)"></div>
  
  <div id="title">
    <h1>/proc/self</h1>
  </div>
  </a>
  <div id="nav">
    <ul>
      <li class="icon">
        <a href="#"><i class="fas fa-bars fa-2x"></i></a>
      </li>
      
        <li><a href="/">Home</a></li>
      
        <li><a href="/tags">Tags</a></li>
      
        <li><a href="/about">About</a></li>
      
    </ul>
  </div>
</header>



    
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <div class="content" itemprop="articleBody">
  
    <h2><span><a href="https://ruysal.com/post/2019-01-23-Combining-Multiple-Design-Patterns-in-Java/">Combining Multiple Design Patterns in Java</a></span></h2>
    <p>For a school project, I had to design an application combining multiple Design Patterns and implement it in Java. Below is the given project description :</p>
<p><img src="/assets/img/design-patterns/desc.png" alt="Project Description"></p>
<p>So, first of all we have to infer which design patterns we are supposed to use from the given text.</p>
<ul>
<li>First sentence indicates we should use Observer Pattern</li>
<li>&ldquo;Family of sensors&rdquo; manufactured by different factories, so Abstract Factory Pattern it is</li>
<li>Adaptability for SMS, so Adapter Pattern will be used</li>
<li>Different commands will be executed, so Command Pattern should be used</li>
<li>Single object creation, so Singleton Pattern will be used</li>
</ul>
<p>So, we are gonna have to combine 5 patterns to implement the application. First of all, let&rsquo;s see what the final output of the program will be like, and how the main function is implemented.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MainProject</span><span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> arg<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        SingleObject logFile <span style="color:#f92672">=</span> SingleObject<span style="color:#f92672">.</span><span style="color:#a6e22e">getInstance</span><span style="color:#f92672">();</span>

        SensorFactory factory<span style="color:#f92672">;</span>
        factory <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> FactoryX<span style="color:#f92672">();</span>

        AlarmForMotion alarm <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> AlarmForMotion<span style="color:#f92672">();</span>
        SprinklerForSmoke sprinkler <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> SprinklerForSmoke<span style="color:#f92672">();</span>

        SensorForSmoke smokesensor <span style="color:#f92672">=</span>  factory<span style="color:#f92672">.</span><span style="color:#a6e22e">createSmokeSensor</span><span style="color:#f92672">();</span>
        SensorForMotion motionsensor <span style="color:#f92672">=</span> factory<span style="color:#f92672">.</span><span style="color:#a6e22e">createMotionSensor</span><span style="color:#f92672">();</span>

        SensorSystem sensorSystem <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> SensorSystem<span style="color:#f92672">();</span>
        sensorSystem<span style="color:#f92672">.</span><span style="color:#a6e22e">register</span><span style="color:#f92672">((</span>SensorListener<span style="color:#f92672">)</span> smokesensor<span style="color:#f92672">);</span>
        sensorSystem<span style="color:#f92672">.</span><span style="color:#a6e22e">register</span><span style="color:#f92672">((</span>SensorListener<span style="color:#f92672">)</span> motionsensor<span style="color:#f92672">);</span>
        sensorSystem<span style="color:#f92672">.</span><span style="color:#a6e22e">notifyUser</span><span style="color:#f92672">();</span>

        HomeSecurityRemote remote <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HomeSecurityRemote<span style="color:#f92672">();</span>
        remote<span style="color:#f92672">.</span><span style="color:#a6e22e">setCommand</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> StopAlarmCommand<span style="color:#f92672">(</span> alarm <span style="color:#f92672">));</span>
        remote<span style="color:#f92672">.</span><span style="color:#a6e22e">buttonPressed</span><span style="color:#f92672">();</span>

        remote<span style="color:#f92672">.</span><span style="color:#a6e22e">setCommand</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> TurnOffSprinklerCommand<span style="color:#f92672">(</span>sprinkler<span style="color:#f92672">));</span>
        remote<span style="color:#f92672">.</span><span style="color:#a6e22e">buttonPressed</span><span style="color:#f92672">();</span>
	    <span style="color:#f92672">}</span>
	<span style="color:#f92672">}</span></code></pre></div>
<p>First we create the Singleton object. Second, as per the requirements, family of sensors should be produced by different factories. We create the factory with FactoryX and use it to produce motion and smoke sensors. Then the sensors are triggered and the user is notified. The remote is used to start and stop the Alarm and the Sprinkler.</p>
<p>So, we can see that (in order) Singleton, Observer, Abstract Factory and Command patterns have been used in Main. Only Adapter is missing, which is not directly called in main.</p>
<p>Let&rsquo;s start with the Singleton Pattern, as it will be the easiest to implement.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SingleObject</span> <span style="color:#f92672">{</span>

    <span style="color:#75715e">//create an object of SingleObject
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> SingleObject instance <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> SingleObject<span style="color:#f92672">();</span>
    <span style="color:#75715e">//make the constructor private so that this class cannot be
</span><span style="color:#75715e"></span>    <span style="color:#75715e">//instantiated
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">private</span> <span style="color:#a6e22e">SingleObject</span><span style="color:#f92672">(){}</span>

    <span style="color:#75715e">//Get the only object available
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> SingleObject <span style="color:#a6e22e">getInstance</span><span style="color:#f92672">(){</span>
        <span style="color:#66d9ef">return</span> instance<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">showMessage</span><span style="color:#f92672">(</span>String s<span style="color:#f92672">){</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>s<span style="color:#f92672">+</span><span style="color:#e6db74">&#34; detected&#34;</span><span style="color:#f92672">);</span>
	    <span style="color:#f92672">}</span>
	<span style="color:#f92672">}</span></code></pre></div>
<p>This piece of code is pretty much the same in all the examples you would find with a quick google search. Only in the showMessage function, we print a statement (normally to a log file, but anyways) to see that the object is created and created only once.</p>
<p>Now we can move on to the next line, creating the factory and the sensors. Let&rsquo;s see it in the class diagram first.</p>
<p><img src="/assets/img/design-patterns/factory.png" alt="Abstract Factory Class Diagram"></p>
<p>Let&rsquo;s start with implementing the interface first, then we will write the concrete classes.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">SensorFactory</span> <span style="color:#f92672">{</span>
		SensorForMotion <span style="color:#a6e22e">createMotionSensor</span><span style="color:#f92672">();</span>
		SensorForSmoke <span style="color:#a6e22e">createSmokeSensor</span><span style="color:#f92672">();</span>
	<span style="color:#f92672">}</span></code></pre></div>
<p>Each factory will write code for this interface. In this scenario, I&rsquo;ve created only two factories, FactoryX and FactoryY. Following is the code for their concrete classes:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">FactoryX</span> <span style="color:#66d9ef">implements</span> SensorFactory <span style="color:#f92672">{</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> SensorForMotion <span style="color:#a6e22e">createMotionSensor</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> XMotionSensor<span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> SensorForSmoke <span style="color:#a6e22e">createSmokeSensor</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> XSmokeSensor<span style="color:#f92672">();</span>
		<span style="color:#f92672">}</span>
	<span style="color:#f92672">}</span></code></pre></div>
<hr>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">FactoryY</span> <span style="color:#66d9ef">implements</span> SensorFactory <span style="color:#f92672">{</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> SensorForMotion <span style="color:#a6e22e">createMotionSensor</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> YMotionSensor<span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> SensorForSmoke <span style="color:#a6e22e">createSmokeSensor</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> YSmokeSensor<span style="color:#f92672">();</span>
	    <span style="color:#f92672">}</span>
	<span style="color:#f92672">}</span></code></pre></div>
<p>Now let&rsquo;s take a look at the class diagram for the sensors.</p>
<p><img src="/assets/img/design-patterns/sensors.png" alt="Sensors"></p>
<p>SensorListener class is not of our concern right now, we will deal with it later when we implement the Observer Pattern. Again, let&rsquo;s start with the interfaces first, then move on to the concrete classes.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">SensorForSmoke</span> <span style="color:#f92672">{</span>  
		String <span style="color:#a6e22e">getDescription</span><span style="color:#f92672">();</span>  
	<span style="color:#f92672">}</span>
	</code></pre></div>
<hr>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">SensorForMotion</span> <span style="color:#f92672">{</span>
        String <span style="color:#a6e22e">getDescription</span><span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span></code></pre></div>
<p>Normally you would have a better function than getDescription, but since our application is not supposed to work and instead just print stuff, we will just implement it like this.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">XSmokeSensor</span> <span style="color:#66d9ef">implements</span> SensorForSmoke<span style="color:#f92672">,</span> SensorListener <span style="color:#f92672">{</span>
    
        <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> String DESCRIPTION <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;This is the FactoryX made Smoke Sensor.&#34;</span><span style="color:#f92672">;</span>
    
        <span style="color:#a6e22e">@Override</span>
        <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getDescription</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">return</span> DESCRIPTION<span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>
    
        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">detected</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
            Sms sms <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> SmokeSmsAdapter<span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> SmokeSms<span style="color:#f92672">());</span>
    
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Smoke Sensor - Created by Factory X&#34;</span><span style="color:#f92672">);</span>
            sms<span style="color:#f92672">.</span><span style="color:#a6e22e">sendMessage</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;SMOKE detected&#34;</span><span style="color:#f92672">);</span>
    
            SprinklerForSmoke sprinkler <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> SprinklerForSmoke<span style="color:#f92672">();</span>
            TurnOnSprinklerCommand turnon <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> TurnOnSprinklerCommand<span style="color:#f92672">(</span>sprinkler<span style="color:#f92672">);</span>
            turnon<span style="color:#f92672">.</span><span style="color:#a6e22e">execute</span><span style="color:#f92672">();</span>
    
            SingleObject logFile <span style="color:#f92672">=</span> SingleObject<span style="color:#f92672">.</span><span style="color:#a6e22e">getInstance</span><span style="color:#f92672">();</span>
            logFile<span style="color:#f92672">.</span><span style="color:#a6e22e">showMessage</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;logfile: SMOKE&#34;</span><span style="color:#f92672">);</span>
    
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
    </code></pre></div>
<hr>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">XMotionSensor</span> <span style="color:#66d9ef">implements</span> SensorForMotion<span style="color:#f92672">,</span> SensorListener <span style="color:#f92672">{</span>
    
        <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> String DESCRIPTION <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;This is the FactoryX made Motion Sensor.&#34;</span><span style="color:#f92672">;</span>
    
        <span style="color:#a6e22e">@Override</span>
        <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getDescription</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">return</span> DESCRIPTION<span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>
    
        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">detected</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
            Sms sms <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> MotionSmsAdapter<span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> MotionSms<span style="color:#f92672">());</span>
    
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Motion Sensor - Created by Factory X&#34;</span><span style="color:#f92672">);</span>
            sms<span style="color:#f92672">.</span><span style="color:#a6e22e">sendMessage</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;MOTION detected&#34;</span><span style="color:#f92672">);</span>
    
            <span style="color:#75715e">//I could have invoked the alarm directly, but this is better suited for command pattern
</span><span style="color:#75715e"></span>            AlarmForMotion alarm <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> AlarmForMotion<span style="color:#f92672">();</span>
            StartAlarmCommand start <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> StartAlarmCommand<span style="color:#f92672">(</span>alarm<span style="color:#f92672">);</span>
            start<span style="color:#f92672">.</span><span style="color:#a6e22e">execute</span><span style="color:#f92672">();</span>
    
            SingleObject logFile <span style="color:#f92672">=</span> SingleObject<span style="color:#f92672">.</span><span style="color:#a6e22e">getInstance</span><span style="color:#f92672">();</span>
            logFile<span style="color:#f92672">.</span><span style="color:#a6e22e">showMessage</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;logfile: MOTION&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span></code></pre></div>
<p>Now that we have the Abstract Factory implemented, we get a better picture of how the sensors will work. And like I mentioned earlier, Adapter Pattern was not called in Main, but in the sensors. Let&rsquo;s see how the Adapter pattern is implemented in.</p>
<p><img src="/assets/img/design-patterns/sms.png" alt="SMS class diagram"></p>
<p>Interface first:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">Sms</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">sendMessage</span><span style="color:#f92672">(</span>String s<span style="color:#f92672">);</span>
	<span style="color:#f92672">}</span></code></pre></div>
<p>Concrete classes:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MotionSmsAdapter</span> <span style="color:#66d9ef">implements</span> Sms <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">private</span> MotionSms adaptee<span style="color:#f92672">;</span>

    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">MotionSmsAdapter</span><span style="color:#f92672">(</span>MotionSms motionsms<span style="color:#f92672">){</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">adaptee</span> <span style="color:#f92672">=</span> motionsms<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">sendMessage</span><span style="color:#f92672">(</span>String s<span style="color:#f92672">){</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;SMS from MOTION ADAPTER: &#34;</span> <span style="color:#f92672">+</span>s<span style="color:#f92672">);</span>
        <span style="color:#75715e">//here the message can be modified, adapted, whatever
</span><span style="color:#75715e"></span>        <span style="color:#75715e">//we will just print a slightly modified message, that&#39;s it
</span><span style="color:#75715e"></span>	    <span style="color:#f92672">}</span>
	<span style="color:#f92672">}</span></code></pre></div>
<hr>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SmokeSmsAdapter</span> <span style="color:#66d9ef">implements</span> Sms <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">private</span> SmokeSms adaptee<span style="color:#f92672">;</span>
    
        <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">SmokeSmsAdapter</span><span style="color:#f92672">(</span>SmokeSms smokesms<span style="color:#f92672">){</span>
            <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">adaptee</span> <span style="color:#f92672">=</span> smokesms<span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>
    
        <span style="color:#a6e22e">@Override</span>
        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">sendMessage</span><span style="color:#f92672">(</span>String s<span style="color:#f92672">){</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;SMS from SMOKE ADAPTER: &#34;</span> <span style="color:#f92672">+</span>s<span style="color:#f92672">);</span>
            <span style="color:#75715e">//here the message can be modified, adapted, whatever
</span><span style="color:#75715e"></span>            <span style="color:#75715e">//we will just print a slightly modified message, that&#39;s it
</span><span style="color:#75715e"></span>        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span></code></pre></div>
<hr>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MotionSms</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">sendMessage</span><span style="color:#f92672">(</span>String s<span style="color:#f92672">){</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;SMS from MOTION detector. Message is: &#34;</span><span style="color:#f92672">+</span>s<span style="color:#f92672">);</span>
            <span style="color:#75715e">//real SMS code goes here
</span><span style="color:#75715e"></span>        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span></code></pre></div>
<hr>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SmokeSms</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">sendMessage</span><span style="color:#f92672">(</span>String s<span style="color:#f92672">){</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;SMS from SMOKE detector. Message is: &#34;</span><span style="color:#f92672">+</span>s<span style="color:#f92672">);</span>
            <span style="color:#75715e">//real SMS code goes here
</span><span style="color:#75715e"></span>        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span></code></pre></div>
<p>Now let&rsquo;s look at how these sensors are used with Observer Pattern. Interface first:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">SensorListener</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">detected</span><span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span></code></pre></div>
<p>&ldquo;detected&rdquo; functionality was implemented in previous classes. So the only thing left is this class:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#f92672">import</span> java.util.Enumeration<span style="color:#f92672">;</span>  
    <span style="color:#f92672">import</span> java.util.Vector<span style="color:#f92672">;</span>  
      
    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SensorSystem</span> <span style="color:#f92672">{</span>  
        <span style="color:#66d9ef">private</span> Vector listeners <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Vector<span style="color:#f92672">();</span>  
      
     <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">register</span><span style="color:#f92672">(</span>SensorListener sensorListener<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>  
            listeners<span style="color:#f92672">.</span><span style="color:#a6e22e">addElement</span><span style="color:#f92672">(</span>sensorListener<span style="color:#f92672">);</span>  
      <span style="color:#f92672">}</span>  
      
        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">notifyUser</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>  
            <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span>Enumeration e <span style="color:#f92672">=</span> listeners<span style="color:#f92672">.</span><span style="color:#a6e22e">elements</span><span style="color:#f92672">();</span> e<span style="color:#f92672">.</span><span style="color:#a6e22e">hasMoreElements</span><span style="color:#f92672">();)</span> <span style="color:#f92672">{</span>  
                <span style="color:#f92672">((</span>SensorListener<span style="color:#f92672">)</span> e<span style="color:#f92672">.</span><span style="color:#a6e22e">nextElement</span><span style="color:#f92672">()).</span><span style="color:#a6e22e">detected</span><span style="color:#f92672">();</span>  
	    <span style="color:#f92672">}</span>  
       <span style="color:#f92672">}</span>  
   <span style="color:#f92672">}</span></code></pre></div>
<p>Here we register the events that took place and let the objects call their detected functions when the notifyUser is called.</p>
<p>Now the only thing left is the Command pattern. In case you want to check on the Main function again to remember how it was called:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    AlarmForMotion alarm <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> AlarmForMotion<span style="color:#f92672">();</span>
    SprinklerForSmoke sprinkler <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> SprinklerForSmoke<span style="color:#f92672">();</span>
    <span style="color:#f92672">.</span>
    <span style="color:#f92672">.</span>
    HomeSecurityRemote remote <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HomeSecurityRemote<span style="color:#f92672">();</span>  
    remote<span style="color:#f92672">.</span><span style="color:#a6e22e">setCommand</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> StopAlarmCommand<span style="color:#f92672">(</span> alarm <span style="color:#f92672">));</span>  
    remote<span style="color:#f92672">.</span><span style="color:#a6e22e">buttonPressed</span><span style="color:#f92672">();</span>  
      
    remote<span style="color:#f92672">.</span><span style="color:#a6e22e">setCommand</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> TurnOffSprinklerCommand<span style="color:#f92672">(</span>sprinkler<span style="color:#f92672">));</span>  
    remote<span style="color:#f92672">.</span><span style="color:#a6e22e">buttonPressed</span><span style="color:#f92672">();</span></code></pre></div>
<p>The class diagram:
<img src="/assets/img/design-patterns/command.png" alt="Command Pattern Class Diagram"></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">Command</span> <span style="color:#f92672">{</span>  
        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">execute</span><span style="color:#f92672">();</span>  
    <span style="color:#f92672">}</span></code></pre></div>
<hr>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">HomeSecurityRemote</span> <span style="color:#f92672">{</span>
        Command command<span style="color:#f92672">;</span>
    
        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setCommand</span><span style="color:#f92672">(</span>Command command<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">command</span> <span style="color:#f92672">=</span> command<span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>
    
        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">buttonPressed</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
            command<span style="color:#f92672">.</span><span style="color:#a6e22e">execute</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span></code></pre></div>
<hr>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TurnOffSprinklerCommand</span> <span style="color:#66d9ef">implements</span> Command<span style="color:#f92672">{</span>
        SprinklerForSmoke sprinkler<span style="color:#f92672">;</span>
    
        <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">TurnOffSprinklerCommand</span><span style="color:#f92672">(</span>SprinklerForSmoke sprinkler<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">super</span><span style="color:#f92672">();</span>
            <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">sprinkler</span> <span style="color:#f92672">=</span> sprinkler<span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>
    
        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">execute</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Turning off sprinkler.&#34;</span><span style="color:#f92672">);</span>
            sprinkler<span style="color:#f92672">.</span><span style="color:#a6e22e">turnOff</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span></code></pre></div>
<hr>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TurnOnSprinklerCommand</span> <span style="color:#66d9ef">implements</span> Command<span style="color:#f92672">{</span>
        SprinklerForSmoke sprinkler<span style="color:#f92672">;</span>
    
        <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">TurnOnSprinklerCommand</span><span style="color:#f92672">(</span>SprinklerForSmoke sprinkler<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">super</span><span style="color:#f92672">();</span>
            <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">sprinkler</span> <span style="color:#f92672">=</span> sprinkler<span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>
    
        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">execute</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Turning on sprinkler.&#34;</span><span style="color:#f92672">);</span>
            sprinkler<span style="color:#f92672">.</span><span style="color:#a6e22e">turnOn</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span></code></pre></div>
<hr>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">StartAlarmCommand</span> <span style="color:#66d9ef">implements</span> Command<span style="color:#f92672">{</span>  
        AlarmForMotion alarm<span style="color:#f92672">;</span>  
      
     <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">StartAlarmCommand</span><span style="color:#f92672">(</span>AlarmForMotion alarm<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>  
            <span style="color:#66d9ef">super</span><span style="color:#f92672">();</span>  
     <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">alarm</span> <span style="color:#f92672">=</span> alarm<span style="color:#f92672">;</span>  
      <span style="color:#f92672">}</span>  
      
        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">execute</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>  
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Starting Alarm.&#34;</span><span style="color:#f92672">);</span>  
      alarm<span style="color:#f92672">.</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>  
      <span style="color:#f92672">}</span>  
    <span style="color:#f92672">}</span></code></pre></div>
<hr>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">StopAlarmCommand</span> <span style="color:#66d9ef">implements</span> Command<span style="color:#f92672">{</span>
        AlarmForMotion alarm<span style="color:#f92672">;</span>
    
        <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">StopAlarmCommand</span><span style="color:#f92672">(</span>AlarmForMotion alarm<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">super</span><span style="color:#f92672">();</span>
            <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">alarm</span> <span style="color:#f92672">=</span> alarm<span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>
    
        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">execute</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Stopping Alarm.&#34;</span><span style="color:#f92672">);</span>
            alarm<span style="color:#f92672">.</span><span style="color:#a6e22e">stop</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span></code></pre></div>
<hr>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SprinklerForSmoke</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">public</span>  <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">turnOn</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Sprinkler is on&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>
    
        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">turnOff</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Sprinkler is off&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span></code></pre></div>
<hr>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">AlarmForMotion</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">start</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Alarm Started..&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>
    
        <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">stop</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Alarm stopped..&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span></code></pre></div>
<p>And with the command pattern finished, we are done with the program. Here is the final class diagram:
<img src="/assets/img/design-patterns/uml.png" alt="Final class diagram"></p>
<p>I would&rsquo;ve preferred to put down a references/resources list, but unfortunately I did not keep track of that. But it was all in pretty much the first page results for related pattern name searches.</p>
<p>I&rsquo;ve used simpleUML to generate the UML class diagrams.</p>
<p>You can check the  <a href="/assets/DesignPatternsCode/DesignPatternsCode.zip">Github Repo</a> for the whole code.
That&rsquo;s it for this post, and feel free to reach out for adjustments/improvements on the post.</p>
<p>BTW, I fuckin hate Java, just sayin'</p>

  
  </div>
</article>


    <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2020  /proc/self 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/tags">Tags</a></li>
         
        <li><a href="/about">About</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>
</html>
